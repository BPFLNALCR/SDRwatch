<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SDRwatch</title>
  <script src="{{ url_for('static', filename='js/tailwindcdn.js') }}"></script>
  <script src="{{ url_for('static', filename='js/htmx.min.js') }}" defer></script>
  <style>
    .stat { border-radius: 1rem; padding: 1rem; background: #0f172a; color: #e2e8f0 }
    .card { border-radius: 1rem; padding: 1rem; background: rgba(255,255,255,.05); color: #e2e8f0; border: 1px solid rgba(255,255,255,.1) }
    .chip { display:inline-flex; align-items:center; padding:.125rem .5rem; border-radius:999px; font-size:.75rem; background: rgba(255,255,255,.1) }
    .chip-active { background:#0ea5e9; color:#082f49 }
    .btn { display:inline-flex; gap:.5rem; align-items:center; padding:.5rem .75rem; border-radius:.75rem; background:#0284c7; color:white }
    .btn.red { background:#ef4444 }
    .input { padding:.5rem .75rem; border-radius:.75rem; border:1px solid rgba(255,255,255,.18); background: rgba(255,255,255,.08); color:#f1f5f9; font-weight:500 }
    .input:focus { outline:2px solid #0ea5e9; outline-offset:2px; }
    select.input option { color:#0f172a; background:#f1f5f9; }
    .table { width:100%; font-size:.9rem }
    .th,.td { padding:.5rem .75rem; text-align:left; border-bottom:1px solid rgba(255,255,255,.1) }
    .bar { background:#0ea5e9; }
    .bar-scan { background:#22c55e; opacity:.8 }
    .bar-snr { background:#f97316; opacity:.85 }
    .timeline-det { width:10px; }
    .timeline-scan { width:8px; }
    .timeline-snr { width:6px; }
    .snr-bar { width:16px; }
    .chart-grid { position:relative; display:flex; align-items:flex-end; width:100%; padding:.5rem .35rem .35rem; background-image:repeating-linear-gradient(to top, rgba(148,163,184,.25) 0, rgba(148,163,184,.25) 1px, transparent 1px, transparent 30px); }
    .chart-row { display:flex; align-items:flex-end; gap:.35rem; width:100%; }
    .chart-label-row { display:flex; gap:.35rem; margin-top:.35rem; font-size:10px; color:#94a3b8; flex-wrap:wrap; }
    .chart-label-row span { flex:0 0 auto; min-width:32px; text-align:center; }
    .snr-labels { gap:.5rem; }
    .snr-labels span { min-width:40px; }
    .timeline-scroll { overflow-x:auto; padding-bottom:.5rem; }
    .timeline-track-wrapper { display:inline-flex; flex-direction:column; gap:.35rem; min-width:max-content; padding-bottom:.25rem; }
    .timeline-grid { min-width:max-content; }
    .timeline-track { display:flex; align-items:flex-end; gap:.5rem; }
    .timeline-column { flex:0 0 auto; display:flex; flex-direction:column; align-items:center; min-width:56px; }
    .timeline-stack { width:100%; display:flex; align-items:flex-end; gap:.2rem; }
    .timeline-meta-row, .timeline-label-row { display:flex; gap:.5rem; font-size:10px; color:#94a3b8; white-space:nowrap; }
    .timeline-meta-row span, .timeline-label-row span { flex:0 0 auto; min-width:56px; text-align:center; }
    .muted { color:#94a3b8 }
    .pill { padding:.125rem .5rem; border-radius:999px; font-size:.75rem }
    .pill.idle { background:#334155; color:#e2e8f0 }
    .pill.run { background:#16a34a; color:#052e16 }
    .yaxis { width: 40px; position: relative; }
    .yaxis .tick { position:absolute; left:0; right:0; font-size:10px; color:#94a3b8 }
    .ygrid { position:relative; padding:0 .35rem .35rem; background-image:repeating-linear-gradient(to top, rgba(255,255,255,.12) 0, rgba(255,255,255,.12) 1px, transparent 1px, transparent 25px); }
    .ygrid::before, .ygrid::after { content:""; position:absolute; left:.35rem; right:.35rem; height:1px; background: rgba(255,255,255,.18); }
    .ygrid::before { top:.25rem; }
    .ygrid::after { bottom:.35rem; }
    .ygrid .mid { position:absolute; left:.35rem; right:.35rem; top:calc(50% + .35rem); height:1px; background: rgba(255,255,255,.18); }
    .grid-labels { position:absolute; left:0; top:0; bottom:0; display:flex; flex-direction:column; justify-content:space-between; font-size:10px; color:#94a3b8; padding:.1rem 0; }
    .grid-labels span { display:block; text-align:left; }
    .field { display:flex; flex-direction:column; gap:.25rem }
    .field label { font-size:.7rem; color:#cbd5e1; font-weight:500 }
    .subgrid { display:grid; grid-template-columns:repeat(2,minmax(0,1fr)); gap:.75rem }
    @media (min-width: 768px){ .subgrid{ grid-template-columns:repeat(4,minmax(0,1fr)); } }
    .section-title{ font-size:.9rem; font-weight:600; margin:.25rem 0 .25rem; color:#e2e8f0 }
    .hint{ font-size:.7rem; color:#94a3b8 }
    .heat-cell { border-radius:.25rem; transition:opacity .2s ease-in-out; }
    .heat-cell:hover { outline:1px solid rgba(255,255,255,.35); }
    .hotspot-strip { display:flex; gap:2px; min-height:48px; align-items:flex-end; }
    .hotspot-cell { flex:1; min-width:4px; height:48px; border-radius:.3rem; background:rgba(14,165,233,.15); position:relative; transition:opacity .2s ease; }
    .hotspot-cell::after { content:""; position:absolute; inset:0; border-radius:.3rem; background:rgba(14,165,233,.65); opacity:var(--intensity,0); }
    .hotspot-cell[data-hot="true"]::after { background:linear-gradient(180deg, rgba(248,113,113,.85), rgba(234,88,12,.85)); }
    .hotspot-cell:hover { outline:1px solid rgba(255,255,255,.35); }
    .htmx-indicator { display:none; align-items:center; gap:.35rem; font-size:.75rem; color:#bae6fd; }
    .htmx-request .htmx-indicator { display:inline-flex; }
  </style>
  {% block head %}{% endblock %}
</head>
<body class="bg-slate-950 text-slate-100 min-h-screen">
<header class="sticky top-0 z-10 backdrop-blur bg-slate-950/70 border-b border-white/10">
  <div class="max-w-7xl mx-auto px-4 py-3 flex items-center gap-6">
    <div class="text-xl font-semibold">ðŸ“¡ SDRwatch</div>
    <nav class="flex items-center gap-4 text-sm">
      <a href="/control" class="underline">Control</a>
      <a href="/" class="underline">Dashboard</a>
      <a href="/baseline" class="underline">Baseline</a>
      <a href="/spur-map" class="underline">Spur Map</a>
      <a href="/live" class="underline">Live</a>
    </nav>
  </div>
</header>

<main class="max-w-7xl mx-auto px-4 py-6">
  {% block content %}{% endblock %}
</main>

{% block scripts %}{% endblock %}
</body>
</html>
